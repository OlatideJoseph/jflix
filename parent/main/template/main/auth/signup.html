<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='main/auth/auth.css')}}">
	<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='main/index.css')}}">
	<link rel="stylesheet" type="text/css" href="{{url_for('static',filename='main/utils.css')}}">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Jflix | Sign-Up</title>
	<script type="text/javascript" src="{{url_for('static',filename='js/jquery-3.6.3.js')}}"></script>
</head>
<body>
	{%from "utils.html" import nav,flash_div with context%}
	{{nav()}}
	{{flash_div()}}
	<div class="form-setter">
		    <form method='post' action="#" autocomplete="off">
		    	{{form.csrf_token()}}
		    	<div id="email-container">

		    		{{form.email.label}}
		    		{% if form.email.errors%}
				    	{{form.email(class='form-error')}}
				    	{% for error in form.email.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.email()}}
				    {% endif %}
		    	</div>
		    	<div class="user-container field-hidden">
		    		{{form.username.label}}
		    		{% if form.username.errors%}
				    	{{form.username(class='form-error')}}
				    	{% for error in form.username.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.username()}}
				    {% endif %}
		    		
		    	</div>
		    	<div id="first-section" class="field-hidden">
		    		{{form.name.label}}
			    	{% if form.name.errors%}
				    	{{form.name(class='form-error')}}
				    	{% for error in form.name.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.name()}}
				    {% endif %}
		    	</div>
		    	<div id="middle-section" class="field-hidden">
		    		{{form.middle_name.label}}
			    	{% if form.middle_name.errors%}
				    	{{form.middle_name(class='form-error')}}
				    	{% for error in form.middle_name.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.middle_name()}}
				    {% endif %}
		    	</div>
		    	<div id="last-section" class="field-hidden">
		    		{{form.last_name.label}}
			    	{% if form.last_name.errors%}
				    	{{form.last_name(class='form-error')}}
				    	{% for error in form.last_name.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.last_name()}}
				    {% endif %}
		    	</div>
		    	<div class="gender-section field-hidden">
		    		{{form.gender.label}}</br>
			    	{% if form.gender.errors%}
				    	{{form.gender(class='form-error')}}
				    	{% for error in form.gender.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.gender()}}
				    {% endif %}
		    	</div>
		    	<div class="password-section field-hidden">
		    		{{form.password.label}}
		    		{% if form.password.errors%}
				    	{{form.password(class='form-error')}}
				    	{% for error in form.password.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.password()}}
				    {% endif %}
		    		
		    	</div>
		    	<div class="net_password-section field-hidden">
		    		{{form.net_password.label}}
		    		{% if form.net_password.errors%}
				    	{{form.net_password(class='form-error')}}
				    	{% for error in form.net_password.errors%}
				    	    <small class="text-error">{{ error }}</small>
				    	{% endfor %}
				    {% else%}
					    {{form.net_password()}}
				    {% endif %}
		    		
		    	</div>
		    	<button id="next-button" type="button">
		    		Next
		    	</button>
		    	{{form.send_data(class="field")}}
		    </form>
	</div>
	<script type="text/javascript">
		$(document).ready(function(){
			function validate_input(field){
				if (field.attr('type') == 'email'){
					if (field.val()){
						var email=field.val();
					}
				}else{
					return null;
				};
			}
			var btn = $('.field').hide();
			var obj=$('#email-container').children();
			$('#next-button').click(function(){
				if (validate_input(obj.children('input')) == null){
					var next=obj.parent().next();
					next.toggleClass('field-hidden');
					alert(next.html());
					obj.parent().hide();
					obj=obj.parent().next().children('input');
				}
			});
		});
	</script>
</body>
</html>